<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATM –°–∏—Å—Ç–µ–º</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: plum;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
        }

        .task {
            margin-top: 30px;
            padding: 20px;
            background-color: #f9f9f9;
            border-left: 5px solid #3498db;
            border-radius: 8px;
        }

        input[type="text"], input[type="number"] {
            padding: 10px;
            width: 220px;
            font-size: 16px;
            margin-top: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
        }

        button {
            padding: 10px 16px;
            margin-top: 10px;
            background-color: #3498db;
            border: none;
            color: white;
            font-size: 16px;
            border-radius: 6px;
            cursor: pointer;
        }

        button:hover {
            background-color: #2980b9;
        }

        #balance {
            font-weight: bold;
            color: green;
        }

        #sumResult, #atmMessage {
            font-weight: bold;
            margin-top: 10px;
        }

        #task3 {
            text-align: center;
            background-color: #fff0f0;
            border-left-color: #e74c3c;
        }

        #task3 button {
            background-color: #e74c3c;
        }

        #task3 button:hover {
            background-color: #c0392b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üí≥ ATM –°–∏—Å—Ç–µ–º</h1>

        <!-- –î–∞–∞–ª–≥–∞–≤–∞—Ä 1 -->
        <div class="task" id="task1">
            <h2>4 –æ—Ä–æ–Ω—Ç–æ–π —Ç–æ–æ–Ω—ã —Ü–∏—Ñ—Ä“Ø“Ø–¥–∏–π–Ω –Ω–∏–π–ª–±—ç—Ä</h2>
            <p>4 –æ—Ä–æ–Ω—Ç–æ–π —Ç–æ–æ –æ—Ä—É—É–ª–Ω–∞ —É—É</p>
            <input type="text" id="numberInput" placeholder="–ñ–∏—à—ç—ç: 1234">
            <button onclick="calculateSum()">–ù–∏–π–ª–±—ç—Ä –±–æ–¥–æ—Ö</button>
            <p id="sumResult"></p>
        </div>

        <!-- –î–∞–∞–ª–≥–∞–≤–∞—Ä 2 -->
        <div class="task" id="task2">
            <h2>–î–∞–Ω—Å–Ω—ã “Ø–ª–¥—ç–≥–¥—ç–ª</h2>
            <p>–î–∞–Ω—Å–Ω—ã “Ø–ª–¥—ç–≥–¥—ç–ª —Ö–∞–º–≥–∏–π–Ω –±–∞–≥–∞–¥–∞–∞ <strong>50‚ÇÆ</strong> –±–∞–π–Ω–∞. –ó–∞—Ä–ª–∞–≥–∞ –±“Ø—Ä–¥ 100‚ÇÆ —à–∏–º—Ç–≥—ç–ª—Ç—ç–π.</p>
            <div class="atm-balance">
                <p>–û–¥–æ–æ–≥–∏–π–Ω “Ø–ª–¥—ç–≥–¥—ç–ª: <span id="balance">1000</span>‚ÇÆ</p>
                <input type="number" id="amountInput" placeholder="–î“Ø–Ω –æ—Ä—É—É–ª–Ω–∞ —É—É">
                <div class="atm-buttons">
                    <button onclick="deposit()">–û—Ä–ª–æ–≥–æ –Ω—ç–º—ç—Ö</button>
                    <button onclick="withdraw()">–ó–∞—Ä–ª–∞–≥–∞ –≥–∞—Ä–≥–∞—Ö</button>
                </div>
                <p id="atmMessage"></p>
            </div>
        </div>

        <!-- –î–∞–∞–ª–≥–∞–≤–∞—Ä 3 -->
        <div class="task" id="task3">
            <h2>–ì–∞—Ä–∞—Ö</h2>
            <button onclick="exitSystem()">–°–∏—Å—Ç–µ–º—ç—ç—Å –≥–∞—Ä–∞—Ö</button>
        </div>
    </div>

    <script>
        // 1. 4 –æ—Ä–æ–Ω—Ç–æ–π —Ç–æ–æ–Ω—ã —Ü–∏—Ñ—Ä–∏–π–Ω –Ω–∏–π–ª–±—ç—Ä
        function calculateSum() {
            const input = document.getElementById('numberInput').value.trim();
            const result = document.getElementById('sumResult');

            if (/[a-zA-Z–∞-—è–ê-–Ø]/.test(input)) {
                result.textContent = "‚ùå “Æ—Å—ç–≥ –æ—Ä—É—É–ª–∞—Ö –±–æ–ª–æ–º–∂–≥“Ø–π!";
                result.style.color = "red";
                return;
            }

            const number = Math.abs(parseInt(input));

            if (isNaN(number) || number < 1000 || number > 9999) {
                result.textContent = "‚ö†Ô∏è –ó”©–≤—Ö”©–Ω 4 –æ—Ä–æ–Ω—Ç–æ–π —Ç–æ–æ –æ—Ä—É—É–ª–Ω–∞ —É—É!";
                result.style.color = "red";
                return;
            }

            let sum = 0;
            let temp = number;
            while (temp > 0) {
                sum += temp % 10;
                temp = Math.floor(temp / 10);
            }

            result.textContent = `‚úÖ –¶–∏—Ñ—Ä“Ø“Ø–¥–∏–π–Ω –Ω–∏–π–ª–±—ç—Ä: ${sum}`;
            result.style.color = "green";
        }

        // 2. ATM —Å–∏—Å—Ç–µ–º
        let balance = 1000;

        function updateBalance() {
            document.getElementById('balance').textContent = balance;
            document.getElementById('atmMessage').textContent = "";
        }

        function deposit() {
            const amount = parseInt(document.getElementById('amountInput').value);
            const message = document.getElementById('atmMessage');

            if (isNaN(amount) || amount <= 0) {
                message.textContent = "‚ùå –ó”©–≤ –æ—Ä–ª–æ–≥—ã–Ω –¥“Ø–Ω –æ—Ä—É—É–ª–Ω–∞ —É—É!";
                message.style.color = "red";
                return;
            }

            balance += amount;
            updateBalance();
            message.textContent = `‚úÖ ${amount}‚ÇÆ –∞–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–º—ç–≥–¥–ª—ç—ç.`;
            message.style.color = "green";
            document.getElementById('amountInput').value = "";
        }

        function withdraw() {
            const amount = parseInt(document.getElementById('amountInput').value);
            const message = document.getElementById('atmMessage');
            const fee = 100;

            if (isNaN(amount) || amount <= 0) {
                message.textContent = "‚ùå –ó”©–≤ –∑–∞—Ä–ª–∞–≥—ã–Ω –¥“Ø–Ω –æ—Ä—É—É–ª–Ω–∞ —É—É!";
                message.style.color = "red";
                return;
            }

            const total = amount + fee;

            if (balance - total < 100) {
                message.textContent = "‚ö†Ô∏è “Æ–ª–¥—ç–≥–¥—ç–ª 100‚ÇÆ-—Å –¥–æ–æ—à –±–∞–π–∂ –±–æ–ª–æ—Ö–≥“Ø–π! (–®–∏–º—Ç–≥—ç–ª 100‚ÇÆ)";
                message.style.color = "red";
                return;
            }

            balance -= total;
            updateBalance();
            message.textContent = `‚úÖ ${amount}‚ÇÆ –∑–∞—Ä–ª–∞–≥–∞–¥–ª–∞–∞ (–®–∏–º—Ç–≥—ç–ª: 100‚ÇÆ).`;
            message.style.color = "green";
            document.getElementById('amountInput').value = "";
        }

        // 3. –°–∏—Å—Ç–µ–º—ç—ç—Å –≥–∞—Ä–∞—Ö
        function exitSystem() {
            if (confirm("–¢–∞ —Å–∏—Å—Ç–µ–º—ç—ç—Å –≥–∞—Ä–∞—Ö–¥–∞–∞ –∏—Ç–≥—ç–ª—Ç—ç–π –±–∞–π–Ω–∞ —É—É?")) {
                document.body.innerHTML = "<h1 style='text-align:center; color: #e74c3c;'>üö™ –¢–∞ —Å–∏—Å—Ç–µ–º—ç—ç—Å –≥–∞—Ä–ª–∞–∞. –ë–∞—è—Ä–ª–∞–ª–∞–∞!</h1>";
            }
        }

        // –≠—Ö–ª—ç—Ö—ç–¥ “Ø–ª–¥—ç–≥–¥–ª–∏–π–≥ —à–∏–Ω—ç—á–ª—ç—Ö
        updateBalance();
    </script>
</body>
</html>
